<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>albums</title>
    <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:400,600" rel="stylesheet">
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.8/css/line.css">
    <link rel="stylesheet" href="/album.css">
   
</head>
    
<body>
   
    <nav  >
        <div class='logo_box' ><img src="/logo.png" alt=""> <strong>SENSEI</strong></div>
        <div class='searchbar'>
          
            <i class="uil uil-search"></i>
            <input type="text" placeholder='search'/></div>
        
          </nav>
          <section class="container-slides">
            <div class="box-slides">
                <% imgs.forEach((element, index) => { %>
                    <div class="slide">
                      
                        <img src=<%= element.url %> alt="">
                        <div class="overlay"></div>
                        <div class="overlay-text"><%= quote[index].q %></div>
    
                    </div>
                   <% }) %>
            </div>

          </section>
          <section class="container-albums">
              <div class="box-albums">
                <h2>Albums <i class="uil uil-scenery"></i></h2>
                
                <% albums.forEach(element => { %>
                    <div class="box-album" data-album-id="<%= element._id %>">
                        <h3><%= element.title %></h3>
                        
                    </div>
                <% }) %>
            </div>
          </section>
          <script>
            document.addEventListener('DOMContentLoaded', () => {
                // Fetch images and dynamically add them to the corresponding box-album elements
                const boxAlbums = document.querySelectorAll('.box-album');
        
                boxAlbums.forEach(boxAlbum => {
                    const albumId = boxAlbum.getAttribute('data-album-id');
                    fetch(`/getAlbumById/${albumId}`)
                        .then(response => response.json())
                        .then(image => {
                            
                                const imgElement = document.createElement('img');
                                imgElement.src = image.url;
                                boxAlbum.appendChild(imgElement);
                            
                        })
                        .catch(error => console.error('Error fetching images:', error));
                });
            });
        </script>
</body>
</html>